<!DOCTYPE html>
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
<html>
  <head>
    <title>Geolocation</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="main.css">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 0%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 0%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <p>Your location is: </p>
    <p id="list"></p>
    
    <p>Danger level of area <span id="radius"></span> km radius around you...</p>
    <div id="crimeDiv"><p id="crime"></p></div>
	
	<div id="background"></div>
	
    <script>
      // Note: This example requires that you consent to location sharing when
      // prompted by your browser. If you see the error "The Geolocation service
      // failed.", it means you probably did not give permission for the browser to
      // locate you.
      var map, infoWindow;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -34.397, lng: 150.644},
          zoom: 6
        });
        infoWindow = new google.maps.InfoWindow;

        // Try HTML5 geolocation.
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            var output = pos.lat + ", " + pos.lng;
			document.getElementById("list").innerHTML = output;
			calcRobb(pos.lng, pos.lat);
			
            infoWindow.setPosition(pos);
            infoWindow.setContent('Location found.');
            infoWindow.open(map);
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
      }
	function calcRobb(curLocLong, curLocLat) {
		// Set robbery coords
		var coords = [-79.75867599999998,
					43.586515000000077,
					-79.642138569999986,
					43.586849640000025,
					-79.636242999999979,
					43.717335000000048,
					-79.586047999999948,
					43.551382000000046,
					-79.645958389999976,
					43.613768520000065,
					-79.762431559999982,
					43.659091190000026,
					-79.638328999999942,
					43.724325000000078,
					-79.706058999999982,
					43.646231000000057,
					-79.729674169999953,
					43.565384760000029,
					-79.703062269999975,
					43.692045060000055,
					-79.662920439999937,
					43.605225390000044,
					-79.740997999999934,
					43.663503000000048,
					-79.764941399999941,
					43.687881200000049,
					-79.784373499999958,
					43.670742410000059,
					-79.69415553999994,
					43.609897560000036,
					-79.757444999999962,
					43.581294000000071,
					-79.780790139999965,
					43.726940610000042,
					-79.597698999999977,
					43.540726000000063,
					-79.655257609999978,
					43.612395020000065,
					-79.651255999999989,
					43.590152000000046,
					-79.717912059999946,
					43.64082570000005,
					-79.662599499999942,
					43.615312000000074,
					-79.658184999999946,
					43.558913000000075,
					-79.604824399999984,
					43.595005480000054,
					-79.613519999999937,
					43.578487000000052,
					-79.762306509999974,
					43.628580670000076,
					-79.662925248999954,
					43.615032001000031,
					-79.760853699999984,
					43.710729860000072,
					-79.779229209999983,
					43.659331640000062,
					-79.67476099999999,
					43.543181000000061,
					-79.651539999999954,
					43.606383000000051,
					-79.748345499999971,
					43.712196500000061,
					-79.676780999999949,
					43.537385000000029,
					-79.757024999999942,
					43.585418000000061,
					-79.698701999999969,
					43.585894000000053,
					-79.743614409999964,
					43.655505170000026,
					-79.710164599999985,
					43.562911740000061,
					-79.703407264999953,
					43.689491959000065,
					-79.67687245999997,
					43.78495311000006,
					-79.689704269999936,
					43.544152220000058,
					-79.760274339999967,
					43.686971670000048,
					-79.639033999999981,
					43.592409000000032,
					-79.597763319999956,
					43.543211790000043,
					-79.647320999999977,
					43.512188000000037,
					-79.72316399999994,
					43.717638000000079,
					-79.639033999999981,
					43.592409000000032,
					-79.647320999999977,
					43.512188000000037,
					-79.757503429999986,
					43.678748470000073,
					-79.645253999999966,
					43.607430000000079,
					-79.76221290999996,
					43.678565950000063,
					-79.743008629999963,
					43.621904060000077,
					-79.783478269999989,
					43.576658730000077,
					-79.639033999999981,
					43.592409000000032,
					-79.814395689999969,
					43.703362100000049,
					-79.567635579999944,
					43.580398310000078,
					-79.677146999999934,
					43.777051000000029,
					-79.661024229999953,
					43.612344010000072,
					-79.614453179999941,
					43.57970454000008,
					-79.698774999999955,
					43.721398000000079,
					-79.765971999999977,
					43.743298000000038,
					-79.710013339999989,
					43.58030068000005,
					-79.668229289999942,
					43.620241430000078,
					-79.757503429999986,
					43.678748470000073,
					-79.694738949999987,
					43.520503240000039,
					-79.583162999999956,
					43.609956000000068,
					-79.769510929999967,
					43.659866400000055,
					-79.591883999999936,
					43.546102000000076,
					-79.702387569999985,
					43.524160100000074,
					-79.797175909999964,
					43.695531520000031,
					-79.617318999999952,
					43.607106000000044,
					-79.630021649999946,
					43.642170190000058,
					-79.740976999999987,
					43.558831000000055,
					-79.702931999999976,
					43.62646200000006,
					-79.730862729999956,
					43.727502070000071,
					-79.563082999999949,
					43.583855000000028,
					-79.73963157999998,
					43.728953540000077,
					-79.793335569999954,
					43.721176960000037,
					-79.779708166999967,
					43.701184666000074,
					-79.560405999999944,
					43.575321000000031,
					-79.759957979999967,
					43.740502330000027,
					-79.73824099999996,
					43.661459000000036,
					-79.737451999999962,
					43.648029000000065,
					-79.592083479999985,
					43.546363380000059,
					-79.72808976999994,
					43.713051590000077,
					-79.829812209999943,
					43.68934261000004,
					-79.74561282999997,
					43.657497070000034,
					-79.74220368999994,
					43.593177930000081,
					-79.71169150999998,
					43.596956720000037,
					-79.571932999999945,
					43.586862000000053,
					-79.560280069999976,
					43.575939260000041,
					-79.731039959999976,
					43.681179520000057,
					-79.560187989999974,
					43.574400000000026,
					-79.720355249999955,
					43.68113431200004,
					-79.616219999999942,
					43.580430000000035,
					-79.642494649999946,
					43.592807510000057,
					-79.654903799999943,
					43.66031165000004,
					-79.730862999999943,
					43.768713000000048,
					-79.672280279999939,
					43.791540200000043,
					-79.638328999999942,
					43.724325000000078,
					-79.63715818999998,
					43.717353150000065,
					-79.736773999999969,
					43.756984000000045,
					-79.685645999999963,
					43.536819000000037,
					-79.726937059999955,
					43.720343250000042,
					-79.733400999999958,
					43.666539000000057,
					-79.72316399999994,
					43.717638000000079,
					-79.72316399999994,
					43.717638000000079,
					-79.79139551999998,
					43.714131020000025,
					-79.797175909999964,
					43.695531520000031,
					-79.76549099999994,
					43.69908300000003,
					-79.793811999999946,
					43.697853000000066,
					-79.661691239999982,
					43.611627360000057,
					-79.714606559999936,
					43.719056790000025,
					-79.824855519999971,
					43.696961320000071,
					-79.827001999999936,
					43.713602000000037,
					-79.743304999999964,
					43.678614000000039,
					-79.638328999999942,
					43.724325000000078,
					-79.745123999999976,
					43.756876000000034,
					-79.754043999999965,
					43.707443000000069,
					-79.653574459999959,
					43.606872890000034,
					-79.626105999999936,
					43.591556000000026,
					-79.649712999999963,
					43.614737000000048,
					-79.576812179999934,
					43.570541160000062,
					-79.750298999999984,
					43.694933000000049,
					-79.629645259999961,
					43.722975480000059,
					-79.621176269999978,
					43.577961340000058,
					-79.705600459999971,
					43.530991890000053,
					-79.634682189999978,
					43.733047340000041,
					-79.607506999999941,
					43.574361000000067,
					-79.604932749999989,
					43.57550180000004,
					-79.597388999999964,
					43.635777000000076,
					-79.64119508999994,
					43.599890150000078,
					-79.610725939999952,
					43.576084810000054,
					-79.602486329999977,
					43.572417460000054,
					-79.714063769999939,
					43.719567730000051,
					-79.751294429999973,
					43.74203016000007,
					-79.72316399999994,
					43.717638000000079,
					-79.757444999999962,
					43.581294000000071,
					-79.644579999999962,
					43.631912000000057,
					-79.621549999999957,
					43.605357000000026,
					-79.743330199999946,
					43.648479930000065,
					-79.590108789999988,
					43.604477570000029,
					-79.649145979999957,
					43.527659050000068,
					-79.656606519999968,
					43.608538330000044,
					-79.614726160999965,
					43.581714000000034,
					-79.70184009999997,
					43.709222650000072,
					-79.720323999999948,
					43.681676000000039,
					-79.832577999999955,
					43.691216000000054,
					-79.677094999999952,
					43.628367000000026,
					-79.632712999999967,
					43.586030000000051,
					-79.810617709999974,
					43.65547403000005,
					-79.733289999999954,
					43.561194000000057,
					-79.728690624999956,
					43.678260625000064,
					-79.728690624999956,
					43.678260625000064,
					-79.649706332999983,
					43.614442838000059,
					-79.683446999999944,
					43.546193000000073,
					-79.629645259999961,
					43.722975480000059,
					-79.638980999999944,
					43.645269000000042,
					-79.761138999999957,
					43.678338000000053,
					-79.823816909999948,
					43.731552610000051,
					-79.645345169999985,
					43.725036800000055,
					-79.627205999999944,
					43.725663998000073,
					-79.829395089999934,
					43.688247900000079,
					-79.722124999999949,
					43.659655000000043,
					-79.627205999999944,
					43.725663999000062,
					-79.742627999999968,
					43.590997000000073,
					-79.759380249999936,
					43.767233700000077,
					-79.655362589999982,
					43.717379780000044,
					-79.583162999999956,
					43.609956000000068,
					-79.708237999999938,
					43.626558000000045,
					-79.567237217999946,
					43.624747150000076,
					-79.724729000999957,
					43.720889499000066,
					-79.743122529999937,
					43.770232390000047,
					-79.636269999999968,
					43.717433000000028,
					-79.665138999999954,
					43.56911000000008,
					-79.619344829999989,
					43.577078270000072,
					-79.741823999999951,
					43.551450000000045,
					-79.718839159999959,
					43.586802510000041,
					-79.633964999999989,
					43.720740000000035,
					-79.710659999999962,
					43.726926000000049,
					-79.741823999999951,
					43.551450000000045,
					-79.634756249999953,
					43.566512450000062,
					-79.756041189999962,
					43.75600484000006,
					-79.644718999999952,
					43.709018000000071,
					-79.714149999999961,
					43.737238000000048,
					-79.697000359999947,
					43.779747600000064,
					-79.733400999999958,
					43.666539000000057,
					-79.635955978999959,
					43.717120213000044,
					-79.632978779999974,
					43.716192680000063,
					-79.58364118999998,
					43.552998430000059,
					-79.55342445499997,
					43.695662319000064,
					-79.762406669999962,
					43.731339560000038,
					-79.638485999999943,
					43.593299000000059,
					-79.692716999999959,
					43.530876000000035,
					-79.635964999999942,
					43.730474000000072,
					-79.682629909999946,
					43.647796540000058,
					-79.646834999999953,
					43.726365000000044,
					-79.765752999999961,
					43.703426000000036,
					-79.704488999999967,
					43.592428000000041,
					-79.647553999999957,
					43.524470000000065,
					-79.648155956999972,
					43.55164346600003,
					-79.650427519999937,
					43.530218880000064,
					-79.691090999999972,
					43.543120000000044,
					-79.72316399999994,
					43.717638000000079,
					-79.720497939999973,
					43.529129080000075,
					-79.719789999999989,
					43.580681000000027,
					-79.59041499999995,
					43.605563000000075,
					-79.725526669999965,
					43.712197970000034,
					-79.596826999999962,
					43.608493000000067,
					-79.742207999999948,
					43.735245000000077,
					-79.815375212999982,
					43.685665277000055,
					-79.564063999999973,
					43.571867000000054,
					-79.750298999999984,
					43.694933000000049,
					-79.749102409999978,
					43.73013603000004,
					-79.773866359999943,
					43.700083050000046,
					-79.666356079999957,
					43.606084700000054,
					-79.590285999999935,
					43.603591000000051,
					-79.646886349999988,
					43.586071850000053,
					-79.575710599999979,
					43.560490870000081,
					-79.716986599999984,
					43.682228420000058,
					-79.724565999999982,
					43.714432000000045,
					-79.639242999999965,
					43.521640000000048,
					-79.667251999999962,
					43.589359000000059,
					-79.614916999999934,
					43.574834000000067,
					-79.638328999999942,
					43.724325000000078,
					-79.707199999999943,
					43.559272000000078,
					-79.78640299999995,
					43.693902000000037,
					-79.62713199999996,
					43.726022000000057,
					-79.634064419999959,
					43.716445050000061,
					-79.793558729999972,
					43.695395780000069,
					-79.764917569999966,
					43.56714855000007,
					-79.704149109999946,
					43.52450809000004,
					-79.586009459999957,
					43.609310390000076,
					-79.709654169999965,
					43.596788980000042,
					-79.638328999999942,
					43.724325000000078,
					-79.741788999999983,
					43.590622000000053,
					-79.583487459999958,
					43.608424460000037,
					-79.684085529999948,
					43.67398903000003,
					-79.754043999999965,
					43.707443000000069,
					-79.754043999999965,
					43.707443000000069,
					-79.72316399999994,
					43.717638000000079,
					-79.750274999999988,
					43.68410700000004,
					-79.676928999999973,
					43.536899000000062,
					-79.677094999999952,
					43.628367000000026,
					-79.669604050999965,
					43.727358600000059,
					-79.726410349999981,
					43.748685070000079,
					-79.57994999999994,
					43.565952000000038,
					-79.655158839999956,
					43.51644949000007,
					-79.619207999999958,
					43.531322000000046,
					-79.594545489999973,
					43.62065683000003,
					-79.574959019999937,
					43.619704470000045,
					-79.642712999999958,
					43.589178000000061,
					-79.607000999999968,
					43.626305000000059,
					-79.783478269999989,
					43.576658730000077,
					-79.720251999999959,
					43.713049000000069,
					-79.644102999999973,
					43.727896000000044,
					-79.820886999999971,
					43.673952000000043,
					-79.722672399999965,
					43.76465292000006,
					-79.712336999999934,
					43.681384000000037,
					-79.731496999999933,
					43.732849000000044,
					-79.653574459999959,
					43.606872890000034,
					-79.700576749999982,
					43.705880750000063,
					-79.642494649999946,
					43.592807510000057,
					-79.788563579999959,
					43.672970230000033,
					-79.639033999999981,
					43.592409000000032,
					-79.768966999999975,
					43.745140000000049,
					-79.74991799999998,
					43.577668000000074,
					-79.66340858999996,
					43.613982350000072,
					-79.797486409999976,
					43.727054610000039,
					-79.685539999999946,
					43.536818000000039,
					-79.751876999999979,
					43.581803000000036,
					-79.822913099999937,
					43.716388700000039,
					-79.76194954999994,
					43.738634220000051,
					-79.633627199999978,
					43.55189284000005,
					-79.648240619999967,
					43.590427190000071,
					-79.652597869999965,
					43.729925890000061,
					-79.729546469999946,
					43.604139300000043,
					-79.759149759999957,
					43.702893510000081,
					-79.772838999999976,
					43.709913750000055,
					-79.746040999999934,
					43.713521000000071,
					-79.638938509999946,
					43.729248720000044,
					-79.642463689999943,
					43.723223850000068,
					-79.636269999999968,
					43.717433000000028,
					-79.757159999999942,
					43.754324000000054,
					-79.723844999999983,
					43.709714000000076,
					-79.636269999999968,
					43.717433000000028,
					-79.566120263999949,
					43.62552502300008,
					-79.771988999999962,
					43.703397000000052,
					-79.76549099999994,
					43.69908300000003,
					-79.645345169999985,
					43.725036800000055,
					-79.568238149999956,
					43.622457360000055,
					-79.726157999999941,
					43.678776000000028,
					-79.62681299999997,
					43.630258000000026,
					-79.632791329999975,
					43.590296570000078,
					-79.611705579999978,
					43.576476960000036,
					-79.601999999999975,
					43.583526000000063,
					-79.781285999999966,
					43.666777000000025,
					-79.715645129999984,
					43.720460660000072,
					-79.643851999999981,
					43.72287700000004,
					-79.730072389999975,
					43.566658490000066,
					-79.727169999999944,
					43.761857000000077,
					-79.700967999999989,
					43.705208000000027,
					-79.660353889999953,
					43.615238930000032,
					-79.689284479999969,
					43.61049145000004,
					-79.753455089999989,
					43.762203820000025,
					-79.671029699999963,
					43.602418530000079,
					-79.772879999999986,
					43.748621000000071,
					-79.736033999999961,
					43.651361000000065,
					-79.727875919999974,
					43.638442010000063,
					-79.654691039999989,
					43.615319520000071,
					-79.743462999999963,
					43.656734000000029,
					-79.684812999999963,
					43.595773000000065,
					-79.675388149999947,
					43.664238520000026,
					-79.754801999999984,
					43.772272000000044,
					-79.752203999999949,
					43.698298000000079,
					-79.711850849999962,
					43.598497020000025,
					-79.712730799999974,
					43.598462100000063,
					-79.712730799999974,
					43.598462100000063,
					-79.660353889999953,
					43.615238930000032,
					-79.65012999999999,
					43.657608750000065,
					-79.638328999999942,
					43.724325000000078,
					-79.814914999999985,
					43.685324000000037,
					-79.610725939999952,
					43.576084810000054,
					-79.66506899999996,
					43.770563000000038,
					-79.742787999999962,
					43.684277210000062,
					-79.758591999999965,
					43.733353000000079,
					-79.714063769999939,
					43.719567730000051,
					-79.716881999999941,
					43.680810000000065,
					-79.721555089999981,
					43.675978930000042,
					-79.637268609999978,
					43.727655910000067,
					-79.82749599999994,
					43.691361000000029,
					-79.642712999999958,
					43.589178000000061,
					-79.681516759999965,
					43.549510760000032,
					-79.581806999999969,
					43.592638000000079,
					-79.671509349999951,
					43.590946260000067,
					-79.750087319999977,
					43.711614910000037,
					-79.634598479999966,
					43.555974410000033,
					-79.58796184199997,
					43.605659861000049,
					-79.795552149999935,
					43.728636810000069,
					-79.645883099999935,
					43.603985970000053,
					-79.709980479999956,
					43.615164330000027,
					-79.788877999999954,
					43.584262000000081,
					-79.801970809999943,
					43.697195450000038,
					-79.642712999999958,
					43.589178000000061,
					-79.620774929999982,
					43.583084020000058,
					-79.572945999999945,
					43.574855000000071,
					-79.742597999999987,
					43.577994000000047,
					-79.602534649999939,
					43.594336240000075,
					-79.578453999999965,
					43.576101000000051,
					-79.772866999999962,
					43.719321000000036,
					-79.610486499999979,
					43.600494000000026,
					-79.698037570999986,
					43.610043714000028,
					-79.662920439999937,
					43.605225390000044,
					-79.640007999999966,
					43.723411000000056,
					-79.725117999999952,
					43.629376000000036,
					-79.574521999999945,
					43.573396000000059,
					-79.652644179999982,
					43.605848510000044,
					-79.602544159999979,
					43.570361840000032,
					-79.607438039999977,
					43.575514970000029,
					-79.654691039999989,
					43.615319520000071,
					-79.765938999999946,
					43.581426000000079,
					-79.646367999999939,
					43.726935000000026,
					-79.82749599999994,
					43.691361000000029,
					-79.784904189999963,
					43.708373820000077,
					-79.705193329999986,
					43.525135360000036,
					-79.640007999999966,
					43.723411000000056,
					-79.750305749999939,
					43.701191250000079,
					-79.751968999999974,
					43.697877000000062,
					-79.723272279999946,
					43.537803670000073,
					-79.686235709999949,
					43.670004980000044,
					-79.793739999999957,
					43.583474000000081,
					-79.611843599999986,
					43.620645180000054,
					-79.786742129999936,
					43.723102340000025,
					-79.78103404999996,
					43.720219720000046,
					-79.781703999999934,
					43.584187000000043,
					-79.781756689999952,
					43.719581860000062,
					-79.744398999999987,
					43.560110000000066,
					-79.824170609999953,
					43.70020984000007,
					-79.732995359999961,
					43.665429390000043,
					-79.737141999999949,
					43.767034000000081,
					-79.641396999999984,
					43.651267000000075,
					-79.728220789999966,
					43.768737530000067,
					-79.711690999999973,
					43.624202000000025,
					-79.681487044999983,
					43.751270696000063,
					-79.601987149999957,
					43.57030947800007,
					-79.747626999999966,
					43.581468000000029,
					-79.729774519999978,
					43.768526480000048,
					-79.758538889999954,
					43.703559880000057,
					-79.648253999999952,
					43.716813000000059,
					-79.652765999999986,
					43.720235000000059,
					-79.754043999999965,
					43.707443000000069,
					-79.719217999999955,
					43.726065000000062,
					-79.707437999999968,
					43.552648000000033,
					-79.626057999999944,
					43.597782000000052,
					-79.784039999999948,
					43.702450000000056,
					-79.786966999999947,
					43.716608000000065,
					-79.68949299999997,
					43.757283000000029,
					-79.639314189999936,
					43.734171380000078,
					-79.644202999999948,
					43.587954000000025,
					-79.745545999999933,
					43.699262000000033,
					-79.65486618999995,
					43.560443020000037,
					-79.633631999999977,
					43.606305000000077,
					-79.708129748999966,
					43.557552001000033,
					-79.650242559999981,
					43.528211490000047,
					-79.659859999999981,
					43.559460000000058,
					-79.747796999999935,
					43.721429000000057,
					-79.776599999999974,
					43.579953000000046,
					-79.808295999999984,
					43.686477000000025,
					-79.754043999999965,
					43.707443000000069,
					-79.769316109999977,
					43.676558470000032,
					-79.773866359999943,
					43.700083050000046,
					-79.713292722999938,
					43.527764468000044,
					-79.654377999999951,
					43.605514667000079,
					-79.677094999999952,
					43.628367000000026,
					-79.76293099999998,
					43.58097900000007,
					-79.779248999999936,
					43.573359000000039,
					-79.594413999999972,
					43.564729000000057,
					-79.645093205999956,
					43.58857501600005,
					-79.734039099999961,
					43.677238220000049,
					-79.598694979999948,
					43.573197030000074,
					-79.707927169999948,
					43.721548170000062,
					-79.713507909999976,
					43.582044092000046,
					-79.734078999999952,
					43.709306000000026,
					-79.708528709999939,
					43.698952900000052,
					-79.567523956999935,
					43.56863095600005,
					-79.639054649999935,
					43.70790463000003,
					-79.788080199999968,
					43.680762020000031,
					-79.714432769999974,
					43.554296100000045,
					-79.689204449999977,
					43.772596485000065,
					-79.700078229999974,
					43.695347000000027,
					-79.639054649999935,
					43.70790463000003,
					-79.617251589999967,
					43.579949920000047,
					-79.771311999999966,
					43.694913000000042,
					-79.629098389999967,
					43.588134730000036,
					-79.768797369999959,
					43.666512030000035,
					-79.740755289999981,
					43.755949310000062,
					-79.72316399999994,
					43.717638000000079,
					-79.720355249999955,
					43.68113431200004,
					-79.741834959999949,
					43.666215030000046,
					-79.786588459999962,
					43.597415840000053,
					-79.755004129999975,
					43.691024850000076,
					-79.646797719999938,
					43.513709480000045,
					-79.741123769999945,
					43.664393890000042,
					-79.636269999999968,
					43.717433000000028,
					-79.746079829999985,
					43.648979650000058,
					-79.736850999999945,
					43.733566000000053,
					-79.695562999999936,
					43.546103000000073,
					-79.741823999999951,
					43.551450000000045,
					-79.713442999999984,
					43.721813000000054,
					-79.646797719999938,
					43.513709480000045,
					-79.719290999999942,
					43.714431000000047,
					-79.719290999999942,
					43.714431000000047,
					-79.686504999999954,
					43.720442000000048,
					-79.709627999999952,
					43.591769000000056,
					-79.642799679999939,
					43.514525730000059,
					-79.747091329999989,
					43.74749791000005,
					-79.755004629999974,
					43.691023160000043,
					-79.742651289999969,
					43.665342430000067,
					-79.638793999999962,
					43.728050000000053,
					-79.632978779999974,
					43.716192680000063,
					-79.642494649999946,
					43.592807510000057,
					-79.712336999999934,
					43.681384000000037,
					-79.772838999999976,
					43.709913750000055,
					-79.631096329999934,
					43.627211070000044,
					-79.748554999999953,
					43.678045000000054,
					-79.706281169999954,
					43.588601950000054,
					-79.684640969999975,
					43.524996040000076,
					-79.67943699999995,
					43.714661000000035,
					-79.66227374999994,
					43.615592000000049,
					-79.632773789999987,
					43.713870930000041,
					-79.726077999999973,
					43.737718000000029,
					-79.759644999999978,
					43.686202000000037,
					-79.77118999999999,
					43.694900000000075,
					-79.732405999999969,
					43.564263000000039,
					-79.592542229999935,
					43.610326060000034,
					-79.640110999999933,
					43.584249000000057,
					-79.817452789999948,
					43.692582040000048,
					-79.835988765999957,
					43.689451872000063,
					-79.614258999999947,
					43.581211273000065,
					-79.719783999999947,
					43.682114500000068,
					-79.76113875599998,
					43.583140836000041,
					-79.778058499999986,
					43.714685000000031,
					-79.616219999999942,
					43.580430000000035,
					-79.750323999999978,
					43.694997000000058,
					-79.740637979999974,
					43.665503290000061,
					-79.583776149999949,
					43.61012812000007,
					-79.768126999999936,
					43.71386700000005,
					-79.750274999999988,
					43.68410700000004,
					-79.775738999999987,
					43.68957400000005,
					-79.632753389999948,
					43.530791180000051,
					-79.599385999999981,
					43.622733000000039,
					-79.737342199999944,
					43.686401630000034,
					-79.752089999999953,
					43.736210000000028,
					-79.773801499999934,
					43.674721250000061,
					-79.619942999999978,
					43.583097000000066,
					-79.684847269999977,
					43.728680160000067,
					-79.756078999999943,
					43.563581000000056,
					-79.744896349999976,
					43.77748396000004,
					-79.696951069999955,
					43.610135510000077,
					-79.742207999999948,
					43.735245000000077,
					-79.806638999999961,
					43.69430200000005,
					-79.606025649999935,
					43.624553800000058,
					-79.767905999999982,
					43.688391000000081,
					-79.659172120999983,
					43.775730535000037
					];
		//pos.long and pos.lat
		longCov = 80.00
		latCov = 111.045
		// Set current location
		var curLoc = [curLocLong, curLocLat];
		// Set radius, in kilometers
		var r = 1;
		document.getElementById("radius").innerHTML = r;
		// Initialize square range
		var squareRange = [];
		// Scan thru and save all robbery points withing square range
		for (var i = 0; i <= coords.length; i += 2) {
			if (coords[i] < curLoc[0] + (r / longCov)
			&& coords[i] > curLoc[0] - (r / longCov)
			&& coords[i+1] < curLoc[1] + (r / latCov) 
			&& coords[i+1] > curLoc[1] - (r /latCov)) {
				squareRange.push([coords[i], coords[i+1]]);
			}
		}
		console.log(squareRange.length);
		
		var robbCountSquareRange = squareRange.length;
		document.getElementById("crime").innerHTML = robbCountSquareRange;
		
		for (var i = 0; i <= squareRange.length; i += 1) {
			console.log(squareRange[i]);
		}
	}
	  
      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDHNdShmcLizjhp734N3vKr1liGl_h7nm0&callback=initMap">
    </script>
    
  </body>
</html>
